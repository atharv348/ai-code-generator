<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Multi-Agent Code Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    textarea, input {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    pre {
      background: #111;
      color: #0f0;
      padding: 15px;
      overflow-x: auto;
      white-space: pre-wrap;
      border-radius: 6px;
    }
    h3 {
      margin-top: 30px;
    }
  </style>
</head>
<body>

<h1>AI Multi-Agent Code Generator</h1>

<input id="title" placeholder="Project Title" />

<textarea id="userStory" placeholder="User Story"></textarea>

<textarea id="acceptanceCriteria" placeholder="Acceptance Criteria"></textarea>

<input id="techStack" placeholder="Tech Stack (React, FastAPI, PostgreSQL)" />

<button onclick="generate()">Generate</button>

<p id="status"></p>

<h3>Frontend Code</h3>
<pre id="frontend"></pre>

<h3>Backend Code</h3>
<pre id="backend"></pre>

<h3>Database Schema</h3>
<pre id="database"></pre>

<h3>Tests</h3>
<pre id="tests"></pre>

<h3>Documentation</h3>
<pre id="docs"></pre>

<h3>Deployment</h3>
<pre id="deployment"></pre>

<script>
async function generate() {
  document.getElementById("status").innerText = "Generating...";
  
  const payload = {
    title: document.getElementById("title").value,
    userStory: document.getElementById("userStory").value,
    acceptanceCriteria: document.getElementById("acceptanceCriteria").value,
    techStack: document.getElementById("techStack").value
  };

  try {
    const response = await fetch("https://hook.us2.make.com/bms5vwl9vgkk974nhz6gja9cf03x0xou", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const data = await response.json();

    document.getElementById("frontend").innerText = data.frontend || "No output";
    document.getElementById("backend").innerText = data.backend || "No output";
    document.getElementById("database").innerText = data.database || "No output";
    document.getElementById("tests").innerText = data.tests || "No output";
    document.getElementById("docs").innerText = data.docs || "No output";
    document.getElementById("deployment").innerText = data.deployment || "No output";

    document.getElementById("status").innerText = "Done ✔";

  } catch (err) {
    document.getElementById("status").innerText = "Error ❌";
    console.error(err);
  }
}
</script>

</body>
</html>
